<div class="recovery-wrapper">
  <div class="progress-bar">
    <div class="dot" [class.active]="currentStep >= 1"></div>
    <div class="line" [class.active]="currentStep >= 2"></div>
    <div class="dot" [class.active]="currentStep >= 2"></div>
    <div class="line"></div>
    <div class="dot"></div>
  </div>

  <div class="step-content" *ngIf="currentStep === 1">
    <h1>Identity</h1>
    <p>Enter your phone number to receive a reset code.</p>
    <div class="input-box">
      <input type="tel" [(ngModel)]="recoveryData.phone" placeholder="+995 5xx xxx xxx">
    </div>
    <button class="primary-btn" (click)="sendCode()" [disabled]="loading">
      {{ loading ? 'Sending...' : 'Send SMS Code' }}
    </button>
  </div>

  <div class="step-content" *ngIf="currentStep === 2">
    <h1>Verification</h1>
    <p>Paste the reset token sent to your phone.</p>
    <div class="input-box">
      <input type="text" [(ngModel)]="recoveryData.token" placeholder="Enter Token" class="otp-field">
    </div>
    <button class="primary-btn" (click)="verifyCode()">Next: Set Password</button>
    <button class="text-link" (click)="currentStep = 1">Wrong number?</button>
  </div>
</div>