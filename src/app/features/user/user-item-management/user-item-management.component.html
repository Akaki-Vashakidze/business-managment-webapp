<div class="booking-page">
  <header class="header">
    <button class="back-btn" (click)="goBack()">
      <span class="material-icons">arrow_back_ios</span>
    </button>
    <div class="title-area">
      <h1>{{'STATION_BOOKING' | translate}}</h1>
      <p>REF: {{ itemId.slice(-6).toUpperCase() }}</p>
    </div>
  </header>

  <section class="section">
    <div class="section-header">
      <span class="step">01</span>
      <label>{{'CHOOSE_YOUR_DAY' | translate}}</label>
    </div>
    <div class="date-tabs">
      <div *ngFor="let tab of dateTabs" 
           class="date-tab" 
           [class.active]="reservation.date === tab.full"
           (click)="setQuickDateTab(tab.full)">
        <span class="day-name">{{ tab.day }}</span>
        <span class="day-num">{{ tab.date }}</span>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="section-header">
      <span class="step">02</span>
      <label>{{'SELECT_YOUR_PLAYTIME' | translate}}</label>
      <span class="hint-pill">{{'TAP_START_AND_END' | translate}}</span>
    </div>

    <div class="grid-wrapper">
      <div class="slots-grid">
        <div *ngFor="let slot of timeSlots"
            class="slot"
            [class.reserved]="slot.reserved"
            [class.selected]="slot.selected"
            (click)="selectSlot(slot)">
          {{ slot.label }}
        </div>
      </div>
    </div>
  </section>

  <div class="confirm-drawer" [class.show]="selectedStart && selectedEnd">
    <div class="drawer-content">
      <div class="booking-summary">
        <div class="summary-item">
          <span class="lbl">{{'DATE' | translate}}</span>
          <span class="val">{{ reservation.date | date:'MMM d, y' }}</span>
        </div>
        <div class="summary-item">
          <span class="lbl">{{'TIME' | translate}}</span>
          <span class="val" *ngIf="selectedStart && selectedEnd">
            {{ format(selectedStart.start) }} â€” {{ format(selectedEnd.end) }}
          </span>
        </div>
      </div>

      <div class="action-bar">
        <button class="confirm-btn" (click)="reserveItem()">{{'CONFIRM_STATION' | translate}}</button>
      </div>
    </div>
  </div>

  <div class="loader-mask" *ngIf="loadingReservations">
    <div class="loader"></div>
  </div>
</div>