<div class="dashboard-wrapper">
  
  <div class="profile-banner">
    <div class="banner-content">
      <div class="avatar-glow">
        {{ user.fullName.charAt(0) }}
      </div>
      <div class="text-group">
        <div class="title-row">
          <h1>{{ user.fullName }}</h1>
          <span class="live-indicator">ACTIVE</span>
        </div>
        <p class="subtitle">ID: {{ user._id }}</p>
      </div>
    </div>
  </div>

  <div class="dashboard-grid" *ngIf="user; else loading">
    
    <div class="main-content">
      <section class="glass-card">
        <div class="section-header">
          <span class="material-icons">fingerprint</span>
          <h2>Identity Details</h2>
        </div>

        <div class="info-grid">
          <div class="info-tile">
            <span class="label">Email</span>
            <span class="value">{{ user.email || 'N/A' }}</span>
          </div>
          <div class="info-tile">
            <span class="label">Phone</span>
            <span class="value">{{ user.mobileNumber }}</span>
          </div>
        </div>

        <div class="permission-matrix">
          <div class="matrix-item" [class.active]="user.isManager">
            <div class="status-dot"></div>
            <div class="matrix-text">
              <span class="m-label">Manager</span>
              <span class="m-status">{{ user.isManager ? 'AUTHORIZED' : 'RESTRICTED' }}</span>
            </div>
          </div>
          <div class="matrix-item" [class.active]="user.isOwner">
            <div class="status-dot"></div>
            <div class="matrix-text">
              <span class="m-label">Owner</span>
              <span class="m-status">{{ user.isOwner ? 'AUTHORIZED' : 'RESTRICTED' }}</span>
            </div>
          </div>
        </div>
      </section>
    </div>

    <div class="sidebar-content">
      <div class="qr-card glass-card">
        <h3>Access Token</h3>
        <div class="qr-container">
          <div class="qr-frame">
            <img *ngIf="qrImageUrl" [src]="qrImageUrl" alt="QR" />
            <div class="scanner-line"></div>
          </div>
          <div class="qr-hash"><code>{{ user.qrCode }}</code></div>
        </div>
      </div>

      <div class="actions-group">
        <button class="btn-main">Edit Access</button>
        <button class="btn-ghost">Delete User</button>
      </div>
    </div>

  </div>
</div>

<ng-template #loading>
  <div class="loader-wrap">
    <div class="pulse-loader"></div>
    <p>SYNCING_DATA...</p>
  </div>
</ng-template>